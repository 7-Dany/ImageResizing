<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Image Processing Api</title>
    <link rel="stylesheet" href="/SCSS/home.css">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
</head>
<body>
<main>
    <h1>Image Processing</h1>
    <p>note: If you want to resize image you uploaded try to edit it to the size you want instead of uploading it
        twice</p>
    <p>Note: be sure the image name in English and doesn't include any symbols in the middle like (.) or (-)</p>
    <section id="process-image" class="upload-section">
        <div class="upload-container">
            <div class="upload-wrapper">
                <div class="image">
                    <img alt="" id="user-image" src="">
                </div>
                <div class="content">
                    <div class="upload-icon">
                        <img src="/assets/images/upload.svg" alt="" class="cloud">
                    </div>
                    <div class="upload-text">
                        <p class="alert-text">Drag & Drop <br>OR</p>
                    </div>
                </div>
                <div class="cancel-button">
                    <img src="/assets/images/cancel.svg" alt="">
                </div>
            </div>
            <button class="choose-button">Choose Image</button>
        </div>
        <div class="file-form">
            <form action="/images" method="post" enctype="multipart/form-data">
                <input type="file" id="default-button" name="image" hidden>
                <label for="filename"></label>
                <input type="text" id="filename" name="filename" hidden>
                <label for="format"></label>
                <input type="text" id="format" hidden name="format">
                <label for="width">Width:</label>
                <input type="number" id="width" name="width" disabled required>
                <label for="height"> Height:</label>
                <input type="number" id="height" name="height" disabled required>
                <button id="process" disabled>Process</button>
            </form>
        </div>
    </section>
    <hr>
    <section id="saved-images" class="saved-images">
        <% for(let image of imagesCopy.reverse()) { %>
            <div class="card">
                <ul class="ul">
                    <li title="delete">
                        <a href="/images/delete/<%= image.index; %>"><img src="/assets/images/trash.svg"
                                                                          alt="delete"></a>
                    </li>
                    <li title="edit">
                        <a href="/images/edit/<%= image.index %>"><img src="/assets/images/edit.svg" alt="edit"></a>
                    </li>
                    <li title="view">
                        <a href="/images/view/<%= image.index; %>"><img src="/assets/images/view.svg" alt="view"></a>
                    </li>
                    <li title="download">
                        <a href="/images/download/<%= image.index; %>"><img src="/assets/images/download.svg"
                                                                            alt="download"></a>
                    </li>
                </ul>
                <img src='/<%= image.file; %>' alt="resized image" class="card-img">
                <div class="content-text">
                    <h2><%= image.filename.slice(0, 14) %></h2>
                    <p>
                        Resized Image With
                        <span>Width: <%= image.width %>px</span>
                        <span>Height: <%= image.height %>px</span>
                    </p>
                </div>
            </div>
        <% } %>
    </section>
</main>
<script src="/js/app.js"></script>
</body>
</html>